!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/router"),require("rxjs/operators"),require("@palmyra-devkit/core-api/client"),require("@ngrx/store"),require("rxjs"),require("lodash"),require("jsonschema"),require("@ngrx/effects"),require("@angular/common/http"),require("@palmyra-devkit/core-api/client/messages"),require("uuid"),require("@angular/common"),require("@angular/forms"),require("primeng/primeng"),require("primeng/table"),require("primeng/api"),require("@angular/platform-browser"),require("primeng/panelmenu"),require("@palmyra-devkit/core-api/client/workspace.client.api")):"function"==typeof define&&define.amd?define("workspace-lib-ouss",["exports","@angular/core","@angular/router","rxjs/operators","@palmyra-devkit/core-api/client","@ngrx/store","rxjs","lodash","jsonschema","@ngrx/effects","@angular/common/http","@palmyra-devkit/core-api/client/messages","uuid","@angular/common","@angular/forms","primeng/primeng","primeng/table","primeng/api","@angular/platform-browser","primeng/panelmenu","@palmyra-devkit/core-api/client/workspace.client.api"],t):t((e=e||self)["workspace-lib-ouss"]={},e.ng.core,e.ng.router,e.rxjs.operators,e.client,e.store,e.rxjs,e.lodash,e.jsonschema,e.effects,e.ng.common.http,e.messages,e.uuid,e.ng.common,e.ng.forms,e.primeng,e.table,e.api,e.ng.platformBrowser,e.panelmenu,e.workspace_client_api)}(this,(function(e,t,n,o,r,i,a,s,c,p,l,d,u,g,h,f,m,b,y,v,w){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var x=function(e,t){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function M(e,t){function n(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var k=function(){return(k=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.create;function I(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function S(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(I(arguments[t]));return e}Object.create;var C=i.createAction("[SE - Widgets Libraries] Load Widgets Libraries"),D=i.createAction("[SE - Widgets Libraries] Load Widgets Libraries Successfully",i.props()),T=i.createAction("[SE - Widgets Libraries] Load Widgets Libraries Failed",i.props()),A=function(){function e(e,t){this.http=e,this.api=t}return e.prototype.getAllWidgetsLibraries=function(){return this.http.get(this.api["screen-editor"]+"/components/all")},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:l.HttpClient},{type:String,decorators:[{type:t.Inject,args:["API_PATHS"]}]}]},e}();var j=function(){function e(){this.shareWithBehaviour$=new a.BehaviorSubject(void 0)}return e.prototype.select=function(){return this.shareWithBehaviour$.asObservable()},e.prototype.next=function(e){this.shareWithBehaviour$.next(S(e))},e.prototype.error=function(e){},e.prototype.complete=function(){},e.decorators=[{type:t.Injectable}],e}();var N=function(){function e(){this.shareWithBehavior$=new a.BehaviorSubject(void 0)}return e.prototype.next=function(e){this.shareWithBehavior$.next(e)},e.prototype.select=function(){return this.shareWithBehavior$.asObservable()},e.prototype.error=function(e){},e.prototype.complete=function(){},e.prototype.ngOnDestroy=function(){throw new Error("Method not implemented.")},e.decorators=[{type:t.Injectable}],e}();var L=function(){function e(){this.shareWithBehavior$=new a.BehaviorSubject(void 0),this.services=new Array}return e.prototype.next=function(e){this.shareWithBehavior$.next(e),this.services=S(e)},e.prototype.select=function(e,t){return this.shareWithBehavior$.asObservable()},e.prototype.selectCold=function(){return this.services},e.prototype.error=function(e){},e.prototype.complete=function(){},e.decorators=[{type:t.Injectable}],e}();var P=function(){function e(){this.loaderSubject=new a.BehaviorSubject(!1)}return e.prototype.show=function(){this.loaderSubject.next(!0)},e.prototype.hide=function(){this.loaderSubject.next(!1)},e.prototype.getLoaderState=function(){return this.loaderSubject.asObservable()},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}();var E=function(){function e(e,t,n,o){this.http=e,this.previewStore=t,this.slidingMessageService=n,this.previewerLodingService=o}return e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:l.HttpClient},{type:N},{type:d.IdeMessageService},{type:P}]},e}();var z=function(){function e(e,t){this.http=e,this.api=t}return e.prototype.getAllScreensLibrairies=function(){return this.http.get(this.api["screen-editor"]+"/templates/all")},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:l.HttpClient},{type:String,decorators:[{type:t.Inject,args:["API_PATHS"]}]}]},e}();!function(){function e(e,t){this.http=e,this.api=t}e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:l.HttpClient},{type:String,decorators:[{type:t.Inject,args:["API_PATHS"]}]}]}}();var F=function(){function e(e,t){var n=this;this.actions$=e,this.widgetsLibrariesApi=t,this.loadWidgetsLibraries$=p.createEffect((function(){return n.actions$.pipe(p.ofType(C),o.concatMap((function(){return n.widgetsLibrariesApi.getAllWidgetsLibraries().pipe(o.map((function(e){return D({widgetsLibrairies:e})}),o.catchError((function(e){return a.of(T({err:e}))}))))})))}))}return e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:p.Actions},{type:A}]},e}();var $=function(){};var O=new $,R=i.createReducer(O,i.on(C,(function(e){return k({},e)})),i.on(D,(function(e,t){var n=t.widgetsLibrairies;return k({},e,{data:S(n)})})));function W(e,t){return R(e,t)}var B=i.createFeatureSelector("SE - Widgets Librairies"),G=i.createSelector(B,(function(e){return e.data})),Z=i.createSelector(G,(function(e){return e?e.reduce((function(e,t){return e.concat(t.categories)}),[]).filter(Boolean).map((function(e){return e.components})).reduce((function(e,t){return e.concat(t)}),[]):[]})),H=i.createSelector(Z,(function(e,t){return e.filter((function(e){return!t.screenType||!e.rules||e.rules.filter((function(e){return q(e,t.screenType)})).length>0}))})),q=(i.createSelector(H,(function(e,t){var n=t.screenType,o=t.section;return e&&e.filter((function(e){return e.defaultScreen&&e.defaultScreen.defaultTypes[n]&&e.scope&&e.scope.filter((function(e){return void 0!==e.split(".").find((function(e){return e===o}))})).length>0}))})),i.createSelector(Z,(function(e){return e.filter((function(e){return e.layouts}))})),i.createSelector(Z,(function(e,t){var n=t.name;return e&&e.find((function(e){return e.name.toLowerCase()===n.toLowerCase()}))||""})),function(e,t){return e.includedScreens&&e.includedScreens.includes(t)&&!(e.excludedScreens&&e.excludedScreens.includes(t))||e.includedScreens&&0===e.includedScreens.length&&e.excludedScreens&&0===e.excludedScreens.length}),_=i.createAction("[SE - Screens Libraries] Load Screens Libraries"),Q=i.createAction("[SE - Screens Libraries] Load Screens Libraries Successfully",i.props()),U=i.createAction("[SE - Screens Libraries] Load Screens Libraries Failed",i.props());!function(){function e(e,t){var n=this;this.actions$=e,this.screensLibrariesApi=t,this.loadWidgetsLibraries$=p.createEffect((function(){return n.actions$.pipe(p.ofType(_),o.concatMap((function(){return n.screensLibrariesApi.getAllScreensLibrairies().pipe(o.map((function(e){return Q({screensLibrairies:e})}),o.catchError((function(e){return a.of(U({err:e}))}))))})))}))}e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:p.Actions},{type:z}]}}();var J=function(){};var V=new J,X=i.createReducer(V,i.on(_,(function(e){return k({},e)})),i.on(Q,(function(e,t){var n=t.screensLibrairies;return k({},e,{data:S(n)})})));function K(e,t){return X(e,t)}var Y=i.createFeatureSelector("SE - Screens Librairies"),ee=i.createSelector(Y,(function(e){return e.data})),te=i.createSelector(ee,(function(e){return e&&e.reduce((function(e,t){return e.concat(t.templates)}),[]).filter(Boolean)})),ne=(i.createSelector(te,(function(e,t){var n=t.screensTemplates;return e&&e.filter((function(e){return n.includes(e.template)}))||[]})),i.createSelector(te,(function(e,t){var n=t.templateName;return e&&e.find((function(e){return e.template===n}))||[]})),function(){function e(e,t){this.widgetsLibrairiesManagement=e,this.screensLibrairiesManagement=t}return e.prototype.validateScreensNames=function(e){if(e&&e.length>0)return e.reduce((function(t,n){if(0===n.displayed.length)return t[n.name]={error:"The screen name is mandatory"},t;var o=e.filter((function(e){return e.displayed===n.displayed})).length,r=n.displayed.match(/[^0-9a-zA-Z_-\s]/g);return o>1&&(t[n.name]={error:"This name already exists"}),r&&(t[n.name]={error:"Avoid using special characters"}),t}),{})},e.prototype.validateScreenName=function(e){return null!==e.match(/[^0-9a-zA-Z_-\s]/g)},e.prototype.validateSchema=function(e){var t=this,n=this.widgetsLibrairiesManagement.select(Z),r=this.screensLibrairiesManagement.select(te);return a.zip(n,r).pipe(o.map((function(n){var o=I(n,2),r=o[0],i=o[1].find((function(t){return t.template===e.content.template})).sections;return t._validateScreenSectionsRecursive(i,e.content,r)})))},e.prototype._validateScreenSectionsRecursive=function(e,t,n){var o=this;return e.reduce((function(e,r){if(r.sections)return e.concat(o._validateScreenSectionsRecursive(r.sections,t[r.name],n));var i=t[r.name];if(Array.isArray(i)){var a=o.getFielsOccurences(i);return e.concat(o._validateItemsRecursive(i,a,n,r.path||r.name,r.name))}return e}),new Array)},e.prototype._validateItemsRecursive=function(e,t,n,o,r){var i=this;return e.reduce((function(e,a,s){var p=o,l=o.indexOf("-")>0?".":"-",d=n.find((function(e){return e.name===a.type}));if(d){var u=(new c.Validator).validate(a.properties||a,d.schema);if((d.fieldRequired||d.nameRequired)&&(!a.name||""===a.name)){var g=d.fieldRequired?"Field":"Name";u.errors.push(new c.ValidationError("","",void 0,"","required",g))}if(a.name&&1!==t[a.name]&&u.errors.push(new c.ValidationError("","",void 0,"","unique","")),u.errors&&u.errors.length>0){var h={message:i._getErrorMessage(u),path:""+p+l+s.toString()};e.push(h)}if(a.components)return p=p?""+p+l+s:s.toString(),e.concat(i._validateItemsRecursive(a.components,t,n,p,r))}return e}),[])},e.prototype.getFielsOccurences=function(e){var t=this.getAllComponents(e);return s.countBy(t,"name")},e.prototype.getAllComponents=function(e){var t=this,n=[];return e.forEach((function(e){e.components&&n.push.apply(n,S(t.getAllComponents(e.components))),n.push(e)})),n},e.prototype._getErrorMessage=function(e){var t=e.errors.filter((function(e){return"required"===e.name})),n="";if(t.length>0){var o="<span>The properties below are required :</span>";n=(n=t.reduce((function(e,t){return e+" <li> "+t.argument+" </li>"}),""))?o+"<ul>"+n+"</ul>":""}var r=e.errors.filter((function(e){return"type"===e.name})),i="";if(r.length>0){o="<span>The properties below have invalid type :</span>";i=(i=r.reduce((function(e,t){return e+" <li> "+t.property.replace("instance.","")+" "+t.message}),""))?o+"<ul>"+i+"</ul>":""}var a=e.errors.filter((function(e){return"enum"===e.name})),s="";if(a.length>0){o="<span>The properties below have invalid value selected :</span>";s=(s=a.reduce((function(e,t){return e+" <li> "+t.property.replace("instance.","")+" "+t.message}),""))?o+"<ul>"+s+"</ul>":""}return""+(e.errors.filter((function(e){return"unique"===e.name})).length>0?"<span>Duplicated name</span><br/>":"")+n+i+s},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:i.Store},{type:i.Store}]},e}());var oe=function(){function e(e){this.validationStore=e}return e.prototype.unloadModules=function(){this.validationStore.complete()},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:j}]},e}();var re=function(){function e(){this.useCasePolicyMode$=new a.BehaviorSubject(!1)}return e.prototype.enableUcPolicyMode=function(){this.useCasePolicyMode$.next(!0)},e.prototype.disableUcPolicyMode=function(){this.useCasePolicyMode$.next(!1)},e.prototype.isUcPolicyModeActive=function(){return this.useCasePolicyMode$.asObservable()},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}();var ie=function(){function e(){}return e.prototype.getUuid=function(){return u.v4()},e.decorators=[{type:t.Injectable}],e}(),ae="desktop",se=function(){function e(e){this.previwerStore=e,this.view$=new a.BehaviorSubject("feature")}return e.prototype.view=function(){return this.view$},e.prototype.goToScreenExplorer=function(){this.view$.next("screen")},e.prototype.goToPageExplorer=function(){this.view$.next("page")},e.prototype.goToFeatureExplorer=function(){this.previwerStore.next(void 0),this.view$.next("feature")},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:N}]},e}();var ce=function(){function e(e,t,n,o,r){this.unloadModuleService=e,this.layoutService=t,this.workspaceApi=n,this.swaggerServicesStore=o,this.navigator=r,this.selectedDevice=ae,this.landscapeMode=!1,this.collapseComponents=!1,this.collapseProperties=!1}return e.prototype.ngOnInit=function(){var e=this;this.navigator.goToFeatureExplorer(),this.displayDeviceSwitcher$=this.layoutService.isUcPolicyModeActive().pipe(o.map((function(e){return!e}))),this.displayUseCasePolicy$=this.layoutService.isUcPolicyModeActive(),this.swaggerServices$=this.workspaceApi.getServices().subscribe((function(t){e.swaggerServicesStore.next(t)}))},e.prototype.onCollapseComponents=function(){this.collapseComponents=!this.collapseComponents},e.prototype.onCollapseProperties=function(){this.collapseProperties=!this.collapseProperties},e.prototype.selectDevice=function(e){this.selectedDevice=e},e.prototype.changeLayout=function(e){this.landscapeMode=e},e.prototype.ngOnDestroy=function(){this.unloadModuleService.unloadModules(),this.swaggerServices$&&this.swaggerServices$.unsubscribe()},e.prototype.backToPreview=function(){this.layoutService.disableUcPolicyMode()},e.decorators=[{type:t.Component,args:[{selector:"screen-editor",template:'<global-layout>\n  \x3c!-- Screens --\x3e\n  <left-container class="left-container screen-container">\n    <p-panel class="screen-panel">\n      <p-header>\n        <div class="header-switcher">\n          <p-button label="Data Model" class="selected"> </p-button>\n        </div>\n      </p-header>\n      <sc-explorer></sc-explorer>\n    </p-panel>\n  </left-container>\n  \x3c!-- Screens --\x3e\n\n  \x3c!-- Preview --\x3e\n  <center-container class="center-container">\n    <p-panel class="preview-panel">\n      <p-header>\n        <div class="custom-header">\n          <div>\n            <span *ngIf="(displayDeviceSwitcher$ | async) === true"\n              >Configuration</span\n            >\n\n            <div\n              *ngIf="(displayUseCasePolicy$ | async) === true"\n              class="policy"\n            >\n              <p-button\n                icon="fa fa-fw fa-arrow-left"\n                class="back-button"\n                pTooltip="Back to preview"\n                tooltipPosition="bottom"\n                showDelay="1000"\n                hideDelay="500"\n                (onClick)="backToPreview()"\n              ></p-button>\n              <span>UseCase policy</span>\n            </div>\n          </div>\n          <div class="header-actions">\n\n          </div>\n        </div>\n      </p-header>\n      <sc-preview\n        [device]="selectedDevice"\n        [landscapeMode]="landscapeMode"\n        [ngClass]="{ hide: displayUseCasePolicy$ | async }"\n      ></sc-preview>\n    </p-panel>\n  </center-container>\n  \x3c!-- Preview --\x3e\n\n  \x3c!-- Properties --\x3e\n  <right-container class="right-container">\n    <div\n      class="components-container"\n      [class.collapse-container]="collapseComponents"\n    >\n      <sc-widgets-to-screen-switcher\n        [collapseProperties]="collapseProperties"\n        (collapse)="onCollapseComponents()"\n      >\n      </sc-widgets-to-screen-switcher>\n    </div>\n    \x3c!--<div\n      class="proprties-container"\n      [class.collapse-container]="collapseProperties"\n    >\n      <p-panel\n        class="proprties-panel"\n        collapseIcon="fa fa-angle-down"\n        expandIcon="fa fa-angle-up"\n        [toggleable]="!collapseComponents"\n        (onBeforeToggle)="onCollapseProperties()"\n      >\n        <p-header>\n          <span>{{ propertiesTitle$ | async }} properties</span>\n        </p-header>\n        <sc-properties></sc-properties>\n      </p-panel>\n    </div>--\x3e\n  </right-container>\n  \x3c!-- Properties --\x3e\n</global-layout>\n\n',styles:["@import url(https://fonts.googleapis.com/css?family=Karla:400,400i,700,700i);.left-container{width:100%}.left-container sc-explorer{display:block}.right-container{width:100%;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.components-container{-webkit-box-flex:1;flex:1;-webkit-transition:.5s ease-out;transition:.5s ease-out;height:50%}.components-container .card-header{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;min-height:49px}.proprties-container{-webkit-box-flex:1;flex:1;-webkit-transition:.5s ease-out;transition:.5s ease-out;height:50%}.proprties-container .card-header{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;min-height:49px}.components-container.collapse-container{-webkit-box-flex:0;flex:0 1 32px;-webkit-transition:.5s ease-out;transition:.5s ease-out;height:32px}.components-container.collapse-container .card-body{display:none;-webkit-transition:.5s linear;transition:.5s linear}.proprties-container.collapse-container{-webkit-box-flex:0;flex:0 1 32px;-webkit-transition:.5s ease-out;transition:.5s ease-out;height:32px}.proprties-container.collapse-container .card-body{display:none;-webkit-transition:.5s linear;transition:.5s linear}sc-preview.hide{display:none}:host ::ng-deep .ui-overlaypanel-close{top:0;right:0}:host ::ng-deep .policy .back-button .ui-button{height:auto}:host ::ng-deep a{color:#848484}:host ::ng-deep a:focus{outline:0!important}:host ::ng-deep a:active{outline:0!important}:host ::ng-deep .ui-button{border:none;border-radius:0;-webkit-transition:.3s;transition:.3s}:host ::ng-deep .ui-button:focus{outline:0!important;border:none}:host ::ng-deep .ui-button:active{outline:0!important}:host ::ng-deep .ui-button:enabled:focus{box-shadow:none}:host ::ng-deep .ui-button:enabled:hover{border:none;border-radius:0}:host ::ng-deep .ui-tree .ui-button-icon-only:focus{outline:0!important}:host ::ng-deep .ui-tree .ui-button-icon-only:active{outline:0!important}:host ::ng-deep .ui-tree .ui-treenode-icon{font-size:12px}:host ::ng-deep .ui-tree .ui-treenode-label{padding:0 2px}:host ::ng-deep .ui-tree .ui-treenode-children{padding:0 0 0 10px}:host ::ng-deep .ui-widget{font-family:Karla,sans-serif}:host ::ng-deep .screen-panel .ui-panel.ui-widget{height:100%;overflow:hidden;border-radius:0;border:none;width:315px;background:#ffffffff;padding:0}:host ::ng-deep .screen-panel .ui-panel.ui-widget .ui-panel-titlebar{border-radius:0;border:none;height:30px;padding:5px 10px;font-size:14px;text-transform:uppercase;background:#c6c6c6}:host ::ng-deep .screen-panel .ui-panel .ui-panel-content{padding:10px;height:100%;overflow:auto}:host ::ng-deep .screen-panel .ui-panel .ui-panel-content-wrapper{height:calc(100% - 30px);overflow:hidden;width:100%;overflow-y:hidden}:host ::ng-deep .screen-panel .component-panel .ui-panel.ui-widget{width:auto}:host ::ng-deep .components-panel .ui-panel.ui-widget{height:100%;overflow:hidden;border-radius:0;border:none;width:315px;background:#ffffffff;padding:0}:host ::ng-deep .components-panel .ui-panel.ui-widget .ui-panel-titlebar{border-radius:0;border:none;height:30px;padding:5px 10px 5px 20px;font-size:14px;text-transform:uppercase;background:#c6c6c6}:host ::ng-deep .components-panel .ui-panel .ui-panel-content-wrapper{height:calc(100% - 30px);overflow:hidden;overflow-y:auto;width:100%}:host ::ng-deep .components-panel .ui-panel .ui-panel-content{height:100%;overflow:auto;padding:0}:host ::ng-deep .proprties-panel .ui-panel.ui-widget{height:100%;overflow:hidden;border-radius:0;border:none;width:315px;background:#ffffffff;padding:0}:host ::ng-deep .proprties-panel .ui-panel.ui-widget .ui-panel-titlebar{border-radius:0;border:none;height:30px;padding:5px 10px 5px 20px;font-size:14px;text-transform:uppercase;background:#c6c6c6}:host ::ng-deep .proprties-panel .ui-panel .ui-panel-content{padding:10px;height:100%;overflow:auto}:host ::ng-deep .proprties-panel .ui-panel .ui-panel-content-wrapper{height:calc(100% - 30px);overflow:hidden;overflow-y:auto;width:100%}:host ::ng-deep .proprties-panel .ui-panel-titlebar span{max-width:270px;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host ::ng-deep .preview-panel .ui-panel.ui-widget{height:100%;overflow:hidden;border-radius:0;border:none;border-left:1px solid #c6c6c6;border-right:1px solid #c6c6c6;padding:0}:host ::ng-deep .preview-panel .ui-panel.ui-widget .ui-panel-titlebar{border-radius:0;border:#eee;height:30px;padding:0 10px;font-size:14px;text-transform:uppercase;background:#eee}:host ::ng-deep .preview-panel .ui-panel .ui-panel-content{padding:5px;height:100%;overflow:auto}:host ::ng-deep .preview-panel .ui-panel .ui-panel-content-wrapper{height:calc(100% - 30px);overflow:hidden;overflow-y:auto;width:100%;overflow-x:auto}:host ::ng-deep .preview-panel .header-actions .ui-button{border:none;color:#000;background:0 0;border-radius:0;height:30px;width:30px}:host ::ng-deep .ui-dialog{border:none;border-radius:0}:host ::ng-deep .ui-dialog .ui-dialog-content{border:0}:host ::ng-deep .ui-dialog .ui-dialog-titlebar-close{color:#414a4b;font-size:20px;border:none}:host ::ng-deep .ui-dialog .ui-dialog-footer{border:none;margin-top:20px}:host ::ng-deep .ui-dialog .ui-dialog-titlebar-icon{margin-top:3px}:host ::ng-deep .ui-dialog .ui-dialog-titlebar-icon:hover{background:0 0;border:none}:host ::ng-deep .edit-screen-panel .ui-panel.ui-widget .ui-panel-titlebar{text-transform:none}:host ::ng-deep .fa:active{outline:0!important}:host ::ng-deep .fa:focus{outline:0!important}:host ::ng-deep .ui-widget-content{background-color:#fff!important}:host ::ng-deep .ui-panel .ui-panel-content{border:none!important}:host ::ng-deep .ui-panel .ui-panel-titlebar-icon{background:0 0;border:none;-webkit-transition:.3s;transition:.3s}:host ::ng-deep .ui-panel .ui-panel-titlebar .ui-panel-titlebar-icon:hover{border:none;background:0 0;color:#eee}:host ::ng-deep .ui-panel.ui-widget .ui-panel-titlebar-icon span{font-size:16px}:host ::ng-deep .ui-dialog.ui-widget .ui-dialog-titlebar{padding:11px 20px;height:45px;background:#fff;border-bottom:1px solid #f1f1f1}:host ::ng-deep .ui-dialog.ui-widget .ui-dialog-titlebar .ui-dialog-title{color:#414a4b;font-weight:700}:host ::ng-deep .ui-dialog.ui-confirmdialog .ui-dialog-content{background:#f9f9f9;color:#d83431;margin-top:20px}:host ::ng-deep .ui-dialog.ui-confirmdialog .ui-dialog-footer .ui-button{background:0 0;color:#414a4b;height:35px}:host ::ng-deep .ui-dialog.ui-confirmdialog .ui-dialog-footer .ui-button:first-child{background:#eee;color:#4caf50;height:35px}:host ::ng-deep .ui-dropdown{border:none;border-radius:0;box-shadow:none}:host ::ng-deep .ui-dropdown .ui-dropdown-panel{border:none;border-radius:0}:host ::ng-deep .ui-dropdown label.ui-dropdown-label{background:#eee;border-radius:2px;height:30px;width:180px}:host ::ng-deep .ui-dropdown .ui-dropdown-trigger.ui-state-default.ui-corner-right{background-color:#eee;margin-top:0;margin-right:1px;border-bottom:1px solid #c6c6c6;border-top:1px solid #c6c6c6;border-right:1px solid #c6c6c6;border-radius:2px;height:30px}:host ::ng-deep .ui-dropdown-panel .ui-dropdown-list{padding:0}:host ::ng-deep .ui-dropdown-panel .ui-dropdown-item{border-radius:0;padding:5px 7px}:host ::ng-deep .ui-messages-error{border:none;color:#d83431;background:#f9f9f9}:host ::ng-deep .ui-autocomplete-dd input.ui-corner-all{border:none;background:#eee;height:30px}:host ::ng-deep .ui-autocomplete-dd .ui-autocomplete-dropdown.ui-corner-all{background:#eee;color:#222;height:30px}:host ::ng-deep .ui-inputtext{height:30px;border-radius:2px;border:1px solid #c6c6c6}:host ::ng-deep .ui-inputtext:focus{box-shadow:none}:host ::ng-deep .ui-autocomplete .ui-autocomplete-panel{border-radius:0}:host ::ng-deep .ui-autocomplete-panel .ui-autocomplete-list-item{border-radius:0;padding:5px 15px}:host ::ng-deep .ui-autocomplete-panel .ui-autocomplete-list-item.ui-state-highlight{background:#e0e0e0;color:#222}:host ::ng-deep .ui-autocomplete-panel .ui-autocomplete-list{padding:0}:host ::ng-deep .ui-inputswitch{height:14px;width:34px!important;overflow:visible;background-color:#9e9e9e;border-color:#9e9e9e;border-radius:8px}:host ::ng-deep .ui-inputswitch .ui-inputswitch-handle{top:-4px;background-color:#fff;border-radius:50%;-webkit-transition:.3s;transition:.3s;width:20px!important;height:20px!important;box-shadow:rgba(0,0,0,.2) 0 1px 3px 0,rgba(0,0,0,.137255) 0 1px 1px 0,rgba(0,0,0,.117647) 0 2px 1px -1px;border:none}:host ::ng-deep .ui-inputswitch .ui-inputswitch-on{visibility:hidden}:host ::ng-deep .ui-inputswitch .ui-inputswitch-on span{visibility:hidden}:host ::ng-deep .ui-inputswitch .ui-inputswitch-off span{visibility:hidden}:host ::ng-deep .ui-inputswitch.ui-inputswitch-checked{background-color:#efadac;border-color:#efadac}:host ::ng-deep .ui-inputswitch.ui-inputswitch-checked .ui-inputswitch-handle{background-color:#d83431;color:#d83431}:host ::ng-deep .header-switcher{margin-top:-2px;display:inline-block}:host ::ng-deep .header-switcher .selected button{background-color:#d83431;color:#eee}:host ::ng-deep .header-switcher button{color:#1b1d1f;background:#d9d9d9;height:27px}:host ::ng-deep .header-switcher button:enabled:hover{background-color:#d83431;color:#eee}.custom-header{height:30px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between}"]}]}],e.ctorParameters=function(){return[{type:oe},{type:re},{type:r.WorkspaceClientApi},{type:L},{type:se}]},e}();var pe=function(){function e(e){this.el=e}return e.prototype.onChange=function(){this.el.nativeElement.value=this.removeSpecialCharactersAndWhiteSpace(this.el.nativeElement.value)},e.prototype.removeSpecialCharactersAndWhiteSpace=function(e){return e=(e=e.replace(/\s+/g,"")).replace(/[^0-9a-zA-Z_-]/g,"")},e.decorators=[{type:t.Directive,args:[{selector:"[remove-special-char]"}]}],e.ctorParameters=function(){return[{type:t.ElementRef}]},e.propDecorators={onChange:[{type:t.HostListener,args:["keyup"]}]},e}();var le=function(){function e(e,t){this.elRef=e,this.renderer=t}return Object.defineProperty(e.prototype,"cachedSrc",{get:function(){return this.elRef.nativeElement.src},set:function(e){this.elRef.nativeElement.src!==e&&this.renderer.setAttribute(this.elRef.nativeElement,"src",e)},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Directive,args:[{selector:"iframe"}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2}]},e.propDecorators={cachedSrc:[{type:t.Input}]},e}();var de=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[pe,le],imports:[g.CommonModule,h.FormsModule,h.ReactiveFormsModule,l.HttpClientModule,f.AccordionModule,f.TooltipModule,f.TreeModule,f.ButtonModule,f.ConfirmDialogModule,f.PanelModule,f.PickListModule,f.DialogModule,f.DragDropModule,f.MultiSelectModule,f.FieldsetModule,f.DropdownModule,f.MessagesModule,f.MessageModule,f.InputTextModule,f.AutoCompleteModule,f.MenuModule,f.ChipsModule,f.SpinnerModule,f.ListboxModule,f.CheckboxModule,f.InputSwitchModule,f.ToggleButtonModule,f.ProgressSpinnerModule,f.TabViewModule,f.OverlayPanelModule],exports:[g.CommonModule,h.FormsModule,h.ReactiveFormsModule,l.HttpClientModule,f.AccordionModule,f.TooltipModule,f.TreeModule,f.ButtonModule,f.ConfirmDialogModule,f.PanelModule,f.PickListModule,f.DialogModule,f.DragDropModule,f.MultiSelectModule,f.FieldsetModule,f.DropdownModule,f.MessagesModule,f.MessageModule,f.InputTextModule,f.AutoCompleteModule,f.MenuModule,f.ChipsModule,f.SpinnerModule,f.ListboxModule,f.CheckboxModule,f.InputSwitchModule,f.ToggleButtonModule,f.ProgressSpinnerModule,pe,f.TabViewModule,m.TableModule,f.OverlayPanelModule,le]}]}],e}(),ue=function(){function e(e){this.confirmationService=e}return e.prototype.ngOnInit=function(){},e.decorators=[{type:t.Component,args:[{selector:"sc-feature-explorer",template:'\x3c!--<ng-container *ngIf="featuresTreeNodes$ | async as featuresTreeNodes; else loading">\n  <p-tree *ngIf="featuresTreeNodes.length > 0; else noFeatureFound" class="features-tree" [value]="featuresTreeNodes"\n    (onNodeExpand)="expandFeatureNode($event.node)" (onNodeCollapse)="collapseFeatureNode($event.node)"\n    selectionMode="single" [(selection)]="selectedNode">\n    <ng-template let-node pTemplate="feature">\n      <div class="custom-node-label">\n        <div class="node-label">\n          <span>{{ node.label }}</span>\n          <span class="node-count">({{ node.count }})</span>\n        </div>\n        <div *ngIf="node.updated" class="node-updated">\n          <div class="indecator"></div>\n        </div>\n        <div class="node-actions">\n          <p-button class="add-screen" (click)="openAddScreensDialog(node)" icon="fa fa-fw fa-plus"\n            pTooltip="Add Screen" tooltipPosition="bottom"></p-button>\n          <p-button class="remove-tree-node" (click)="deleteFeature(node)" icon="fa fa-fw fa-trash" pTooltip="Delete"\n            tooltipPosition="bottom"></p-button>\n        </div>\n      </div>\n    </ng-template>\n\n    <ng-template let-node pTemplate="screen">\n      <div class="custom-node-label">\n        <span class="custom-node-icon">\n          <i class="fas fa-link" *ngIf="node.linked" pTooltip="Linked to {{node.linked}} model"\n            tooltipPosition="bottom"></i>\n          <i class="fas fa-unlink" *ngIf="!node.linked" pTooltip="Not linked to a model" tooltipPosition="bottom"></i>\n        </span>\n        <div class="node-label">\n          <span>{{ node.label }}</span>\n        </div>\n        <div *ngIf="node.updated" class="node-updated">\n          <div class="indecator"></div>\n        </div>\n        <sc-policy-state-indicator [screenContent]="node.data"></sc-policy-state-indicator>\n        <div class="node-actions">\n          <p-button class="clone-node" (click)="openCloneScreenDialo(node)" icon="fa fa-fw fa-copy" pTooltip="Clone"\n            tooltipPosition="bottom"></p-button>\n          <p-button class="edit-feature" (click)="editFeatureScreen(node)" icon="fa fa-fw fa-pen" pTooltip="Edit"\n            tooltipPosition="bottom"></p-button>\n          <p-button class="preview-screen" icon="fa fa-fw fa-eye" (click)="preview(node)" pTooltip="Preview"\n            tooltipPosition="bottom" showDelay="1000" hideDelay="500"></p-button>\n          <p-button class="remove-tree-node" (click)="deleteScreen(node)" icon="fa fa-fw fa-trash" pTooltip="Delete"\n            tooltipPosition="bottom"></p-button>\n        </div>\n      </div>\n    </ng-template>\n  </p-tree>\n  <ng-template #noFeatureFound>\n    <span class="no-match-found-msg">\n      No feature found\n    </span>\n  </ng-template>\n</ng-container>\n<ng-template #loading>\n  <span class="no-match-found-msg">\n    loading\n  </span>\n</ng-template>\n--\x3e\n',styles:[".no-match-found-msg{margin:-20px auto auto;padding:10px 85px;position:absolute;top:50%}:host ::ng-deep .ui-tree{width:100%;border:none}:host ::ng-deep .ui-tree .ui-treenode-selectable.ui-treenode-content:hover .node-actions .add-screen .ui-button{color:#5cb85c;-webkit-transition-duration:0s;transition-duration:0s}:host ::ng-deep .ui-tree .ui-treenode-selectable.ui-treenode-content:hover .node-actions .remove-tree-node .ui-button{color:#d84315;-webkit-transition-duration:0s;transition-duration:0s}:host ::ng-deep .ui-tree .ui-treenode-selectable.ui-treenode-content:hover .node-actions .clone-node .ui-button{color:#2399e5;-webkit-transition-duration:0s;transition-duration:0s}:host ::ng-deep .ui-tree .ui-treenode-selectable.ui-treenode-content:hover .node-actions .duplicate-tree-node .ui-button{color:#2399e5;-webkit-transition-duration:0s;transition-duration:0s}:host ::ng-deep .ui-tree .ui-treenode-selectable.ui-treenode-content:hover .node-actions .edit-feature .ui-button{color:#2399e5;-webkit-transition-duration:0s;transition-duration:0s}:host ::ng-deep .ui-tree .ui-treenode-selectable.ui-treenode-content:hover .node-actions .preview-screen .ui-button{color:#2399e5;-webkit-transition-duration:0s;transition-duration:0s}:host ::ng-deep .ui-treenode-label{width:calc(100% - 38px)}:host ::ng-deep .ui-treenode-children .ui-treenode-label{width:calc(100% - 24px)}:host ::ng-deep .custom-node-label{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;height:30px}:host ::ng-deep .custom-node-icon{font-size:12px;margin-left:-10px;margin-top:2px;margin-right:2px}:host ::ng-deep .custom-node-icon .fa-unlink{color:#d84315}:host ::ng-deep .node-updated .indecator{width:6px;height:6px;border-radius:50%;background:#78909c;margin-left:2px}:host ::ng-deep .node-label{max-width:190px;overflow:hidden;text-overflow:ellipsis}:host ::ng-deep .node-actions{margin-left:auto;margin-right:0}:host ::ng-deep .node-actions .ui-button{background:0 0;border:none}:host ::ng-deep .node-actions .ui-button:enabled:hover{background:0 0;border:none}:host ::ng-deep .node-actions .ui-button-icon-only{width:20px}:host ::ng-deep .node-actions .edit-feature .ui-button{color:#c6c6c6}:host ::ng-deep .node-actions .preview-screen .ui-button{color:#c6c6c6}:host ::ng-deep .node-actions .remove-tree-node .ui-button{color:#c6c6c6}:host ::ng-deep .node-actions .clone-node .ui-button{color:#c6c6c6}:host ::ng-deep .node-actions .add-screen .ui-button{color:#c6c6c6}:host ::ng-deep .ui-panel.ui-widget .ui-panel-titlebar{padding:0 10px;background:#e0e0e0}:host ::ng-deep .actions-container .ui-button-icon-only{width:1.5em}"]}]}],e.ctorParameters=function(){return[{type:b.ConfirmationService}]},e}();var ge=function(){function e(e){this.ideActionsSevice=e,this.filter=new t.EventEmitter,this.addFeature=new t.EventEmitter,this.saveFeatures=new t.EventEmitter,this.unsubscribe$=new a.Subject}return e.prototype.ngOnInit=function(){},e.prototype.doFilter=function(e){this.filter.emit(e)},e.prototype.openAddFeatureDialog=function(){this.addFeature.emit()},e.prototype.doSaveFeatures=function(){this.saveFeatures.emit()},e.prototype.moveNodeWithKeys=function(e){(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),e.stopPropagation(),this.doSaveFeatures())},e.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},e.decorators=[{type:t.Component,args:[{selector:"sc-feature-explorer-toolbar",template:'<div class="actions-container">\n  <sc-toolbar-finder style="width: 100%" placeHolder="Find feature..." (filter)="doFilter($event)">\n  </sc-toolbar-finder>\n  <div class="actions">\n    <sc-toolbar-add-btn tooltip="Add Feature" (click)="addFeaturePanel.toggle($event)"></sc-toolbar-add-btn>\n  </div>\n</div>\n<div >\n  <span class="trash-count">\n    <p-overlayPanel #addFeaturePanel showCloseIcon="true">\n \x3c!--     <sc-feature-creator *ngIf="addFeaturePanel.visible" (featureAdded)="addFeaturePanel.hide()">\n      </sc-feature-creator>--\x3e\n    </p-overlayPanel>\n  </span>\n</div>\n',styles:[".actions-container{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between}.actions-container .actions{display:-webkit-inline-box;display:inline-flex}.ui-inputgroup{width:100%}.trash-features-count-display,.trash-screens-count-display{border:1px solid #d83431;padding:5px;border-radius:5px;margin:5px;display:inline-block;top:0}.trash-count{display:block;margin-top:5px}"]}]}],e.ctorParameters=function(){return[{type:r.IdeActionsService}]},e.propDecorators={filter:[{type:t.Output}],addFeature:[{type:t.Output}],saveFeatures:[{type:t.Output}],moveNodeWithKeys:[{type:t.HostListener,args:["window:keydown",["$event"]]}]},e}();var he=function(){function e(e,n){this.navigator=e,this.layoutService=n,this.query=new t.EventEmitter,this.screenSaved=new t.EventEmitter}return e.prototype.ngOnInit=function(){this.view$=this.navigator.view()},e.prototype.openFeatureSelector=function(){},e.prototype.doSaveFeatures=function(){},e.prototype.doFilter=function(e){this.query.emit(e)},e.decorators=[{type:t.Component,args:[{selector:"sc-explorer-toolbar",template:'\x3c!--<div class="toolbar">\n  <sc-feature-explorer-toolbar\n    *ngIf="(view$ | async) === \'feature\'"\n    (filter)="doFilter($event)"\n    (addFeature)="openFeatureSelector()"\n    (saveFeatures)="doSaveFeatures()"\n  >\n  </sc-feature-explorer-toolbar>\n  <sc-screen-explorer-toolbar *ngIf="(view$ | async) === \'screen\'">\n  </sc-screen-explorer-toolbar>\n</div>\n--\x3e\n',styles:[".toolbar{min-height:30px}"]}]}],e.ctorParameters=function(){return[{type:se},{type:re}]},e.propDecorators={query:[{type:t.Output}],screenSaved:[{type:t.Output}]},e}();var fe=function(){function e(){this.filterInput$=new a.Subject,this.filter=new t.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;this.subscription=this.filterInput$.asObservable().pipe(o.debounceTime(300),o.distinctUntilChanged()).subscribe((function(t){e.filter.emit(t)}))},e.prototype.doFilter=function(e){this.filterInput$.next(e.target.value)},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},e.decorators=[{type:t.Component,args:[{selector:"sc-toolbar-finder",template:'<div class="ui-inputgroup filter-input">\n  <input\n    type="text"\n    (keyup)="doFilter($event)"\n    pInputText\n    placeholder="{{placeHolder}}"\n  />\n  <span class="ui-inputgroup-addon">\n    <i class="fa fa-search"></i>\n  </span>\n</div>\n',styles:[".filter-input{padding-right:5px}.filter-input input,.ui-inputgroup{width:100%}:host ::ng-deep .filter-input.ui-inputgroup .ui-inputgroup-addon,:host ::ng-deep .filter-input.ui-inputgroup .ui-inputtext{border:none;border-bottom:2px solid #8d9293;border-radius:0;padding:0;height:25px;color:#313439;font-size:14px;background:0 0}:host ::ng-deep .filter-input.ui-inputgroup .ui-inputtext:focus{box-shadow:none}"]}]}],e.propDecorators={filter:[{type:t.Output}],placeHolder:[{type:t.Input}]},e}();var me=function(){function e(){this.click=new t.EventEmitter}return e.decorators=[{type:t.Component,args:[{selector:"sc-toolbar-add-btn",template:'\n    <p-button\n      icon="fa fa-fw fa-plus"\n      pTooltip="{{ tooltip }}"\n      tooltipPosition="bottom"\n      (click)="click.emit($event)"\n    ></p-button>\n  ',styles:["\n      :host ::ng-deep .ui-button {\n        color: #d83431;\n        background: transparent;\n        border: none;\n        border-radius: 0;\n        height: 25px;\n        width: 25px;\n        margin-right: 0;\n        margin-left: 2px;\n      }\n    ","\n      :host ::ng-deep .ui-button:focus,\n      :host ::ng-deep .ui-button:enabled:hover {\n        background: transparent;\n        color: #d83431 !important;\n      }\n    "]}]}],e.propDecorators={tooltip:[{type:t.Input}],click:[{type:t.Output}]},e}();var be=function(){function e(){this.click=new t.EventEmitter}return e.decorators=[{type:t.Component,args:[{selector:"sc-toolbar-save-btn",template:'\n    <p-button\n      icon="fa fa-fw fa-check"\n      pTooltip="{{ tooltip }}"\n      tooltipPosition="bottom"\n      (click)="click.emit()"\n    ></p-button>\n  ',styles:["\n      :host ::ng-deep .ui-button {\n        background: transparent;\n        border: none;\n        border-radius: 0;\n        height: 25px;\n        width: 25px;\n        margin-right: 0;\n        margin-left: 2px;\n        color: #4caf50;\n      }\n      :host ::ng-deep .ui-button .ui-button-text {\n        padding: 0px 19px;\n      }\n      :host ::ng-deep .ui-button-text-icon-left .ui-button-icon-left {\n        font-size: 12px;\n        top: 14px;\n        left: 2px;\n      }\n    ","\n      :host ::ng-deep .ui-button:focus,\n      :host ::ng-deep .ui-button:enabled:hover {\n        color: #4caf50;\n        background: transparent;\n      }\n    "]}]}],e.propDecorators={tooltip:[{type:t.Input}],click:[{type:t.Output}]},e}();var ye=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[de],declarations:[fe,me,be],exports:[fe,me,be]}]}],e}(),ve=function(){function e(){}return e.prototype.ngOnInit=function(){},e.decorators=[{type:t.Component,args:[{selector:"center-container",template:"<ng-content></ng-content>"}]}],e.ctorParameters=function(){return[]},e}(),we=function(){function e(e){this.layoutService=e,this.leftCollapsed=!1,this.rightCollapsed=!1,this.ucPolicyActive=!1}return e.prototype.ngOnInit=function(){var e=this;this.layoutService.isUcPolicyModeActive().subscribe((function(t){e.rightCollapsed=t,e.ucPolicyActive=t}))},e.prototype.collapseLeft=function(){this.leftCollapsed=!this.leftCollapsed},e.prototype.collapseRight=function(){this.rightCollapsed=!this.rightCollapsed},e.decorators=[{type:t.Component,args:[{selector:"global-layout",template:'<div class="global-layout">\n\n  <div class="collapsible-container">\n\n    <div class="left" [class.collapse-left]="leftCollapsed">\n      <ng-content select="left-container"></ng-content>\n    </div>\n\n    <div class="left-toggle-button" [ngClass]="{\'toggeled\': leftCollapsed}">\n      <p-button icon="fa fa-angle-double-left" class="collapse-left-button" [ngClass]="{\'toggeled\': leftCollapsed}"\n        (click)="collapseLeft()"></p-button>\n    </div>\n\n  </div>\n\n  <div class="center">\n    <ng-content select="center-container" class="center-container"></ng-content>\n  </div>\n\n  <div class="collapsible-container">\n\n    <div class="right-toggle-button" [ngClass]="{\'toggeled\': rightCollapsed}">\n      <p-button [disabled]="ucPolicyActive" icon="fa fa-angle-double-right" class="collapse-right-button" [ngClass]="{\'toggeled\': rightCollapsed}"\n        (onClick)="collapseRight()"></p-button>\n    </div>\n\n    <div class="right" [class.collapse-right]="rightCollapsed">\n      <ng-content select="right-container"></ng-content>\n    </div>\n\n  </div>\n\n</div>',styles:[".global-layout{display:-webkit-box;display:flex;height:100%;width:100%;border:1px solid #414a4b;background:#ffffffff}.center{width:100%;overflow:hidden;min-width:430px}.left,.right{width:315px;display:-webkit-box;display:flex;overflow:hidden;visibility:visible;-webkit-transition:.5s;transition:.5s}.left{border-right:1px solid #c6c6c6;box-sizing:content-box}.right{border-left:1px solid #c6c6c6}.collapse-left,.collapse-right{width:0;visibility:hidden}.collapsible-container{display:-webkit-box;display:flex}.left-toggle-button,.right-toggle-button{width:25px;height:30px;-webkit-transition:.5s ease-in-out;transition:.5s ease-in-out}.left-toggle-button{margin-left:-25px}.right-toggle-button{margin-right:-25px}.left-toggle-button.toggeled{margin-left:0}.right-toggle-button.toggeled{margin-right:0}:host ::ng-deep .collapse-left-button .ui-button,:host ::ng-deep .collapse-left-button .ui-button:enabled:active,:host ::ng-deep .collapse-right-button .ui-button,:host ::ng-deep .collapse-right-button .ui-button:enabled:active{background:0 0;border:none;color:#313439;width:25px;height:30px;-webkit-transition:none;transition:none;font-size:12px}:host ::ng-deep .collapse-left-button .ui-button:enabled:hover,:host ::ng-deep .collapse-right-button .ui-button:enabled:hover{color:#424242;background:0 0;border:none}:host ::ng-deep .collapse-left-button.toggeled .ui-button,:host ::ng-deep .collapse-right-button.toggeled .ui-button{color:#424242}:host ::ng-deep .collapse-left-button .ui-button .ui-button-icon-left,:host ::ng-deep .collapse-right-button .ui-button .ui-button-icon-left{font-size:14px;-webkit-transform:rotate(0);transform:rotate(0);-webkit-transition:-webkit-transform .5s;transition:transform .5s;transition:transform .5s,-webkit-transform .5s}:host ::ng-deep .collapse-right-button.toggeled .ui-button .ui-button-icon-left{-webkit-transform:rotate(-180deg);transform:rotate(-180deg);-webkit-transition:-webkit-transform .5s;transition:transform .5s;transition:transform .5s,-webkit-transform .5s}:host ::ng-deep .collapse-left-button.toggeled .ui-button .ui-button-icon-left{-webkit-transform:rotate(180deg);transform:rotate(180deg);-webkit-transition:-webkit-transform .5s;transition:transform .5s;transition:transform .5s,-webkit-transform .5s;color:#404a4b}"]}]}],e.ctorParameters=function(){return[{type:re}]},e}();var xe=function(){function e(){}return e.prototype.ngOnInit=function(){},e.decorators=[{type:t.Component,args:[{selector:"left-container",template:"<ng-content></ng-content>"}]}],e.ctorParameters=function(){return[]},e}(),Me=function(){function e(){}return e.prototype.ngOnInit=function(){},e.decorators=[{type:t.Component,args:[{selector:"right-container",template:"<ng-content></ng-content>"}]}],e.ctorParameters=function(){return[]},e}(),ke=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[de],declarations:[xe,Me,ve,we],exports:[xe,Me,ve,we]}]}],e}(),Ie=function(){function e(e){this.viewContainerRef=e}return e.decorators=[{type:t.Directive,args:[{selector:"[dialog-host]"}]}],e.ctorParameters=function(){return[{type:t.ViewContainerRef}]},e}();var Se=function(){function e(){this.shareWithReplay$=new a.BehaviorSubject(void 0)}return e.prototype.openDialog=function(e){this.shareWithReplay$.next(e)},e.prototype.closeDialog=function(){this.shareWithReplay$.next(void 0)},e.prototype.content=function(){return this.shareWithReplay$},e.decorators=[{type:t.Injectable}],e}();var Ce=function(){function e(e,t){this.dialogService=e,this.componentFactoryResolver=t}return e.prototype.ngOnInit=function(){var e=this;this.dialogService$=this.dialogService.content().subscribe((function(t){if(void 0!==t){var n=e.dialogHost.viewContainerRef;n.clear();var o=e.componentFactoryResolver.resolveComponentFactory(t.type),r=n.createComponent(o);r.instance.setOptions(t.data),r.changeDetectorRef.detectChanges(),e.title=t.title||r.instance.title,e.showDialog=!0}else e.showDialog=!1}))},e.prototype.hideDialog=function(){this.dialogHost.viewContainerRef.clear()},e.prototype.ngOnDestroy=function(){this.dialogService$&&this.dialogService$.unsubscribe()},e.decorators=[{type:t.Component,args:[{selector:"sc-dialog",template:'\x3c!--<p-dialog\n[modal]="true"\n[header]="title"\n[(visible)]="showDialog"\n(onHide)="hideDialog()"\n[width]="800"\npositionTop="50"\nclosable="true">\n<ng-template dialog-host></ng-template>\n</p-dialog>--\x3e\n'}]}],e.ctorParameters=function(){return[{type:Se},{type:t.ComponentFactoryResolver}]},e.propDecorators={dialogHost:[{type:t.ViewChild,args:[Ie,{static:!1}]}]},e}();var De=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[de],declarations:[Ie,Ce],providers:[Se],exports:[Ce]}]}],e}(),Te=function(){function e(){}return e.prototype.transform=function(e,t){return e?"Feature: "+e:"Features"},e.decorators=[{type:t.Pipe,args:[{name:"explorerHeader",pure:!1}]}],e}(),Ae=function(){function e(e){this.sanitizer=e}return e.prototype.transform=function(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)},e.decorators=[{type:t.Pipe,args:[{name:"safe"}]}],e.ctorParameters=function(){return[{type:y.DomSanitizer}]},e}();var je=function(){function e(){}return e.prototype.ngOnInit=function(){},e.decorators=[{type:t.Component,args:[{selector:"sc-previewer-loading",template:'<div class="previewer-loader-mask" *ngIf="loading$ | async">\n  <div class="loader">\n    <p-progressSpinner\n      [style]="{ width: \'70px\', height: \'70px\' }"\n      strokeWidth="6"\n      fill="transparent"\n      animationDuration=".5s"\n    ></p-progressSpinner>\n  </div>\n</div>\n',styles:[".previewer-loader-mask{position:absolute;width:100%;height:100%;z-index:999;display:-webkit-box;display:flex;top:0;background:rgba(102,102,102,.2)}.loader{width:auto;margin:auto}@-webkit-keyframes ui-progress-spinner-color{0%,100%{stroke:#c6c6c6}40%{stroke:#4caf50}66%{stroke:#313439}80%,90%{stroke:#d63431}}@keyframes ui-progress-spinner-color{0%,100%{stroke:#c6c6c6}40%{stroke:#4caf50}66%{stroke:#313439}80%,90%{stroke:#d63431}}"]}]}],e.ctorParameters=function(){return[]},e}();var Ne=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[de,g.CommonModule],exports:[je],declarations:[je],providers:[P]}]}],e}(),Le=function(){function e(e){var t=this;this.dragDropService=e,this.dragDropService.dragStart$.subscribe((function(e){t.dragStartInfo={dragNodeTree:e.tree,dragNode:e.node,dragNodeSubNodes:e.subNodes,dragNodeIndex:e.index,dragNodeScope:e.scope},e.tree}))}return e.prototype.getDroppedNode=function(){return this.dragDropService.dragStop$.pipe(o.map((function(e){return e})))},e.prototype.isDropNotAllowed=function(e,t){if(t.parents&&"rootNode"===e.type){var n=s.remove(e.children,(function(e){return e.data.type===t.data.type}));return this._addRemovedNode(n)}if(e.parent&&"rootNode"===e.parent.type&&t.parents&&(n=s.remove(e.parent.children,(function(e){return e.data.type===t.data.type}))).length>0)return this._addRemovedNode(n);if(e.parent&&e.parent.childs&&!e.parent.childs.includes(t.data.type)&&(n=s.remove(e.parent.children,(function(e){return e.data.type===t.data.type}))).length>0)return this._addRemovedNode(n);if(t.parents&&e.data&&!t.parents.includes(e.data.type)&&(n=s.remove(e.children,(function(e){return e.data.type===t.data.type}))).length>0)return this._addRemovedNode(n);if(e.childs&&!e.childs.includes(t.data.type)){var n=s.remove(e.children,(function(e){return e.data.type===t.data.type}));return this._addRemovedNode(n)}if(t.parents&&e.data&&e.data.type&&!t.parents.includes(e.data.type)&&(n=s.remove(e.children,(function(e){return e.data.type===t.data.type}))).length>0)return this._addRemovedNode(n);if(t.parents&&e.parent&&e.parent.data&&!t.parents.includes(e.parent.data.type)){n=s.remove(e.parent.children,(function(e){return e.data.type===t.data.type}));return this._addRemovedNode(n)}},e.prototype.getSelectionPath=function(e,t,n,o){var r=e.indexOf(t);if(r<0)for(var i=0;i<e.length&&void 0===n;){var a=e[i].children;a&&a.length>0&&(n=o?this.getSelectionPath(a,t,n,[o,i].join(".")):this.getSelectionPath(a,t,n,i.toString())),i+=1}return n||(o?r<0?void 0:[o,r].join("."):r.toString())},e.prototype._addRemovedNode=function(e){if(e.length>0)return this.dragStartInfo.dragNodeSubNodes.splice(this.dragStartInfo.dragNodeIndex,0,this.dragStartInfo.dragNode)},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:b.TreeDragDropService}]},e}();var Pe=i.createAction("[SE Models] Load Models"),Ee=i.createAction("[SE Models] Load Models Successfully",i.props()),ze=i.createAction("[SE Models] Load Models Failed",i.props()),Fe=function(){function e(e,t){var n=this;this.actions$=e,this.modelsApi=t,this.loadModels$=p.createEffect((function(){return n.actions$.pipe(p.ofType(Pe),o.concatMap((function(){return n.modelsApi.getModels().pipe(o.map((function(e){return Ee({entities:e})})),o.catchError((function(e){return a.of(ze({err:e}))})))})))}))}return e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:p.Actions},{type:r.WorkspaceClientApi}]},e}();var $e=function(e){this.entities=e};var Oe=new $e,Re=i.createReducer(Oe,i.on(Pe,(function(e){return k({},e)})),i.on(Ee,(function(e,t){var n=t.entities;return new $e(n)})));function We(e,t){return Re(e,t)}var Be=i.createFeatureSelector("SE - Models"),Ge=i.createSelector(Be,(function(e){return e.entities||[]}));i.createSelector(Ge,(function(e,t){var n=t.entityName;if(n){var o=e.find((function(e){return e.name.toLowerCase()===n.toLowerCase()}));return o&&(o=function e(t,n){return t.relationships.forEach((function(t){t.entity||(t.entity=n.find((function(e){return e.name.toLowerCase()===t.type.toLowerCase()})),t.entity&&t.entity.relationships&&(t.entity=e(t.entity,n)))})),t}(o,e)),o}}));var Ze=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[Te,Ae],imports:[de,ke,De,Ne,i.StoreModule.forFeature("SE - Widgets Librairies",W),i.StoreModule.forFeature("SE - Screens Librairies",K),i.StoreModule.forFeature("SE - Models",We),p.EffectsModule.forFeature([F,Fe])],exports:[ke,De,Te,Ae,Ne],providers:[b.ConfirmationService,A,z,E,ne,j,N,oe,re,Le,L,ie]}]}],e}(),He=function(){function e(){}return e.prototype.setOptions=function(e){this.options=e},e}();var qe=function(e){function n(){var n=e.call(this)||this;return n.featureAdded=new t.EventEmitter,n}return M(n,e),n.prototype.ngOnInit=function(){},n.prototype.submit=function(e){var t=this;this.feature=s.lowerFirst(this.feature),e.valid&&!Object.keys(this.features).find((function(e){return e===t.feature}))&&(this.featureAdded.emit(this.feature),this.feature=void 0)},n.decorators=[{type:t.Component,args:[{selector:"sc-feature-creator",template:'<div class="feature-creator">\n  <form name="form" #frm="ngForm">\n    <label>Feature name:</label>\n    <div class="input-container">\n      <input type="text" pInputText [(ngModel)]="feature" required pattern="^[a-zA-Z][a-zA-Z_$0-9-]*$"\n        name="featureName" placeholder="eg. customer-management" #featureName="ngModel" />\n      <i class="fas fa-exclamation error-mark" *ngIf="frm.submitted && featureName.invalid" tooltipPosition="bottom"\n        [pTooltip]="featureName.errors.required ? \'Feature name is required\' : \'Feature name should be in Kebab Case\'"></i>\n      <button pButton type="submit" label="Add" class="add-button" (click)="submit(frm)"></button>\n    </div>\n  </form>\n</div>',styles:[".feature-creator .input-container{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.feature-creator .input-container .error-mark{color:#d84315;padding:0 7px;margin-right:-9px}.feature-creator .input-container input.ng-touched.ng-invalid{border-color:#d84315}.feature-creator .input-container .add-button{background-color:#4caf50;color:#fff;margin-left:10px}"]}]}],n.ctorParameters=function(){return[]},n.propDecorators={featureAdded:[{type:t.Output}]},n}(He);var _e=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[de,ye],declarations:[ge,he,qe],exports:[ge,he,qe]}]}],e}(),Qe=function(){function e(e){this.navigator=e}return e.prototype.filter=function(e){},e.decorators=[{type:t.Component,args:[{selector:"sc-explorer",template:'\x3c!--<sc-explorer-toolbar (query)="filter($event)"></sc-explorer-toolbar>\n\n<div class="tree-container">\n  <ng-container *ngIf="(navigator.view() | async) === \'feature\'">\n    <sc-feature-explorer> </sc-feature-explorer>\n  </ng-container>\n  <ng-container *ngIf="(navigator.view() | async) === \'screen\'">\n    <sc-screen-explorer> </sc-screen-explorer>\n  </ng-container>\n</div>--\x3e\n\n\x3c!-- <ng-template #noFeatureContainer>\n  <div class="no-feature-container">\n    <div class="no-data-message">\n      <span>No feature configured.</span>\n    </div>\n    <div class="actions">\n      <p-button\n        class="add-Feature"\n        icon="fa fa-fw fa-plus"\n        label="Add feature"\n        (click)="addNewFeature()"\n      ></p-button>\n    </div>\n  </div>\n</ng-template> --\x3e\n',styles:['@charset "UTF-8";.no-feature-container{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;height:calc(100% - 30px);-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;background:#f3f3f3}.no-feature-container .no-data-message{padding-bottom:20px}:host ::ng-deep .tree-container{height:100%}:host ::ng-deep .ui-tree-container{height:100%;margin:0;overflow:auto;padding:.25em!important;white-space:nowrap}:host ::ng-deep .ui-tree{border:none!important;width:100%!important;padding:0}:host ::ng-deep .ui-tree .ui-tree-container{padding:0}:host ::ng-deep .ui-tree .ui-tree-container .ui-treenode{padding:.125em 0 0!important}:host ::ng-deep .ui-tree .ui-tree-container .ui-treenode .ui-treenode-content{padding:0;border:0 solid transparent}:host ::ng-deep .ui-tree .ui-tree-container .ui-treenode .ui-treenode-content .ui-treenode-label{padding:0 2px}:host ::ng-deep .ui-tree .ui-tree-container .ui-treenode .ui-treenode-content .ui-treenode-label.ui-state-highlight{background-color:inherit!important;color:inherit!important}:host ::ng-deep .ui-tree .ui-treenode-selectable.ui-treenode-content.ui-treenode-content-selected{border-left:4px solid #d83431!important;background-color:#eee;border-color:#d83431;outline-width:0}:host ::ng-deep .ui-tree .ui-treenode-selectable.ui-treenode-content.ui-treenode-dragover{border-left:4px solid #d83431!important;background-color:#eee;border-color:#d83431;outline-width:0}:host ::ng-deep .ui-tree .ui-tree-toggler{font-size:12px}:host ::ng-deep .ui-tree .pi{font-family:"Font Awesome 5 Free";font-weight:900}:host ::ng-deep .ui-tree .ui-tree-toggler.pi-caret-right:before{content:""!important;font-size:12px}:host ::ng-deep .ui-tree .ui-button-icon-only{font-size:14px}:host ::ng-deep .ui-tree .ui-tree-toggler.pi-caret-down:before{content:""!important;font-size:12px}:host ::ng-deep .ui-tree .ui-treenode-selectable.ui-treenode-content{height:30px;background-color:#f9f9f9;border-left:4px solid #c6c6c6!important}:host ::ng-deep .ui-tree .ui-treenode-selectable.ui-treenode-content:hover{background-color:#eee}:host ::ng-deep .ui-tree .ui-treenode-selectable.ui-treenode-content:active{background-color:#eee;border-color:#d83431;outline-width:0}:host ::ng-deep .ui-tree .ui-treenode-selectable.ui-treenode-content:focus{outline-width:0}:host ::ng-deep .ui-tree .ui-treenode-selectable:active{outline-width:0}:host ::ng-deep .ui-tree .ui-treenode-content.ui-treenode-selectable .ui-treenode-label:not(.ui-state-highlight):hover{border:none;background:0 0}:host ::ng-deep .ui-tree .ui-treenode-label.ui-state-highlight{border:none;background:0 0;color:#222}:host ::ng-deep .screens-content .ui-tree{border:none}']}]}],e.ctorParameters=function(){return[{type:se}]},e}();var Ue=function(e){function n(t,n,o){var r=e.call(this)||this;return r.dialogService=t,r.screensLibrairiesManagement=n,r.modelsManagementStore=o,r.title="",r.screensCount$={},r}return M(n,e),n.prototype.setOptions=function(e){this.featureName=e.featureName,this.title="Screen manager (Feature: "+this.featureName+")"},n.prototype.ngOnInit=function(){},n.prototype.disableApplyButton=function(){return this.disableApplyButton$},n.decorators=[{type:t.Component,args:[{selector:"sc-feature-updator",template:'\x3c!--<div class="templates-group" *ngIf="templates$ | async as templates">\n  <span class="title">Screen types:</span>\n  <div class="ui-g-3" *ngFor="let template of templates">\n    <p-button [label]="screensCount$[template.template] | async" (click)="addScreen(template)"></p-button>\n  </div>\n</div>\n<span class="title">Feature screens:</span>\n<ng-container *ngIf="featureScreensState$ | async">\n  <div class="screens">\n    <p-table [value]="screens" [scrollable]="true" scrollHeight="200px">\n      <ng-template pTemplate="header">\n        <tr>\n          <th>Name</th>\n          <th>Template</th>\n          <th>Definition</th>\n          <th style="width:65px;text-align: center">\n            <ng-container *ngIf="screensInTrashCount$ | async as screensInTrashCount">\n              <span *ngIf="screensInTrashCount > 0"><i\n                  class="fa fa-fw fa-trash"></i><sup>({{ screensInTrashCount }})</sup></span></ng-container>\n          </th>\n        </tr>\n      </ng-template>\n      <ng-template pTemplate="body" let-screen let-ri="rowIndex">\n        <tr>\n          <td pEditableColumn>\n            <p-cellEditor [ngClass]="{\n                    \'invalid-screen-name\': screen.errors\n                  }">\n              <ng-template pTemplate="input">\n                <input type="text" [ngModel]="screen.screenName" (blur)="screenNameChanges($event.target.value, ri)"\n                  (keydown.enter)="screenNameChanges($event.target.value, ri)" [pTooltip]="screen.errors" [ngClass]="{\n                    \'invalid-screen-name\': screen.errors\n                  }" />\n              </ng-template>\n              <ng-template pTemplate="output">\n                <span [pTooltip]="screen.errors" [ngClass]="{\n                    \'invalid-screen-name\': screen.errors\n                  }">\n                  {{ screen.screenName }} <i class="fas fa-pen edit-cell-icon"></i></span>\n              </ng-template>\n            </p-cellEditor>\n          </td>\n          <td>{{ screen.template.template }}</td>\n          <td pEditableColumn>\n\n            <p-cellEditor>\n              <ng-template pTemplate="input">\n                <p-dropdown [options]="models$ | async"\n                  [(ngModel)]="screen.modelChanged ? screen.modelChangedValue : screen.modelName" filter="true"\n                  filterPlaceholder="Search model" placeholder="Select model" showClear="true"\n                  (onChange)="screenDefinitionChanges(screen.screenName,screen.savedName,$event.value)" appendTo="body"\n                  panelStyleClass="sc-ui-dropdown"></p-dropdown>\n              </ng-template>\n              <ng-template pTemplate="output">\n                {{screen.modelChanged ? screen.modelChangedValue : screen.modelName}} <i\n                  class="fas fa-pen edit-cell-icon"></i>\n              </ng-template>\n            </p-cellEditor>\n          </td>\n          <td style="width: 65px;text-align: center;">\n            <p-button *ngIf="!screen.toBeDeleted" class="delete-button" icon="fa fa-fw fa-trash" pTooltip="Delete"\n              tooltipPosition="bottom" (click)="screenToDelete(screen)"></p-button>\n            <div class="actions" *ngIf="screen.toBeDeleted">\n              <p-button class="save-button" icon="fa fa-fw fa-check" pTooltip="Confirm" tooltipPosition="bottom"\n                (click)="confirmDeleteScreen(screen)"></p-button>\n              <p-button class="add-Feature" icon="fa fa-fw fa-close" pTooltip="Cancel" tooltipPosition="bottom"\n                (click)="cancelDeleteScreen(screen)"></p-button>\n            </div>\n          </td>\n        </tr>\n      </ng-template>\n      <ng-template pTemplate="emptymessage" let-columns="columns">\n        <tr>\n          <td [attr.colspan]="columns?.length">\n            No screen configured\n          </td>\n        </tr>\n      </ng-template>\n    </p-table>\n  </div>\n  <div class="apply-button">\n    <p-button (onClick)="apply()" icon="fa fa-fw fa-check" label="Apply" [disabled]="disableApplyButton() | async">\n    </p-button>\n  </div>\n</ng-container>--\x3e\n',styles:[".title{display:block;font-weight:700;font-size:16px}:host ::ng-deep .apply-button .ui-button,:host ::ng-deep .apply-button .ui-button:hover{background:#eee;color:#5cb85c;float:right;height:35px}:host ::ng-deep .apply-button{float:right;margin-top:20px}:host ::ng-deep .delete-button .ui-button,:host ::ng-deep .delete-button .ui-button:hover{background:0 0;color:#d84315}:host ::ng-deep .ui-button:enabled:focus{box-shadow:none}:host ::ng-deep .ui-table .edit-cell-icon{font-size:14px}:host ::ng-deep .ui-table .ui-widget-header{background-color:transparent;width:100%}:host ::ng-deep .ui-table .ui-table-thead>tr>th{padding:5px;border:1px solid #c8c8c8;font-weight:700;color:#333;background-color:#f4f4f4;border-bottom:none;font-size:14px}:host ::ng-deep .ui-table .ui-table-tbody>tr:nth-child(even){background-color:#f9f9f9}:host ::ng-deep .ui-table .ui-table-tbody>tr>td{background-color:inherit;border:1px solid #c8c8c8;padding:2px 5px}:host ::ng-deep .templates-group{display:inline-block;margin-bottom:5px}:host ::ng-deep .templates-group .ui-g-3{padding:3px}:host ::ng-deep .templates-group .ui-button{color:#d83431;background:#eee;width:175px;height:30px}:host ::ng-deep .templates-group .ui-button:hover{background-color:#e0e0e0;color:#dc3545;width:175px}:host ::ng-deep .ui-widget-header{background:repeat-x #ececec}:host ::ng-deep .ui-editable-column .invalid-screen-name{background:#db7093;border:0}:host ::ng-deep .ui-table .ui-table-data>tr>td.ui-editable-column.invalid-screen-name{background:#db7093}:host ::ng-deep .filter-input.ui-inputgroup .ui-inputgroup-addon,:host ::ng-deep .filter-input.ui-inputgroup .ui-inputtext{border:none;border-bottom:2px solid #8d9293;border-radius:0;padding:0;height:25px;color:#313439;font-size:14px;background:0 0}:host ::ng-deep .filter-input.ui-inputgroup .ui-inputtext:focus{box-shadow:none}:host ::ng-deep .actions .ui-button{border:none;border-radius:0;height:25px;width:25px;margin-right:0;margin-left:2px}:host ::ng-deep .actions .add-Feature .ui-button{color:#d83431;background:0 0}:host ::ng-deep .actions .save-button .ui-button{color:#4caf50;background:0 0}.actions-container{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between}.actions{display:-webkit-inline-box;display:inline-flex}.filter-input{padding-right:5px}.filter-input input,.ui-inputgroup{width:100%}"]}]}],n.ctorParameters=function(){return[{type:Se},{type:i.Store},{type:i.Store}]},n.propDecorators={setOptions:[{type:t.Input}]},n}(He);var Je=function(e){function n(t){var n=e.call(this)||this;return n.modelsManagementStore=t,n}return M(n,e),n.prototype.ngOnInit=function(){},n.prototype.ngAfterViewInit=function(){this.selectFeature()},n.prototype.selectFeature=function(){this.selectedFeature&&this.updator.setOptions({featureName:this.selectedFeature.name.charAt(0).toLowerCase()+this.selectedFeature.name.slice(1)})},n.decorators=[{type:t.Component,args:[{selector:"sc-feature-selector",template:'<div style="height: 50vh;">\n\x3c!--  <label for="models">Choose a feature: </label>--\x3e\n  <p-dropdown\n    #featureInput="ngModel"\n    [options]="models$ | async"\n    optionLabel="name"\n    [(ngModel)]="selectedFeature"\n    (onChange)="selectFeature()"\n    filter="true"\n    filterPlaceholder="Search feature"\n    placeholder="Select a feature"\n    required="true"\n  >\n  </p-dropdown>\n  <sc-feature-updator #featureUpdator></sc-feature-updator>\n</div>\n',styles:[".ui-dialog .apply-button .ui-button{background:#e4e4e4;color:#5cb85c}"]}]}],n.ctorParameters=function(){return[{type:i.Store}]},n.propDecorators={feature:[{type:t.ViewChild,args:["featureInput",{static:!1}]}],updator:[{type:t.ViewChild,args:["featureUpdator",{static:!1}]}]},n}(He);var Ve=function(e){function n(t,n){var o=e.call(this)||this;return o.screenValidation=t,o.dialogService=n,o}return M(n,e),n.prototype.setOptions=function(e){this.screenToClone=e.screenName,this.featureName=e.featureName,this.screenName=e.screenName+"0001"},n.prototype.apply=function(){},n.prototype.cancel=function(){this.dialogService.closeDialog()},n.prototype.disableApplyButton=function(){return!1},n.prototype.inValidScreen=function(){return a.of("The screen name is mandatory")},n.decorators=[{type:t.Component,args:[{selector:"sc-feature-cloner",template:'<div class="cloner">\n  <div class="cloner-content">\n    Please provide a name to the new screen\n    <input\n      type="text"\n      pInputText\n      [(ngModel)]="screenName"\n      [ngClass]="{\n        \'invalid-screen-name\': inValidScreen() | async\n      }"\n      [pTooltip]="inValidScreen() | async"\n    />\n  </div>\n</div>\n<div class="buttons">\n  <p-button\n    (onClick)="apply()"\n    class="apply-button"\n    icon="fa fa-fw fa-check"\n    label="Apply"\n    [disabled]="inValidScreen() | async"\n  >\n  </p-button>\n  <p-button\n    (onClick)="cancel()"\n    class="cancel-button"\n    icon="fa fa-fw fa-times"\n    label="Cancel"\n  >\n  </p-button>\n</div>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,styles:[":host .cloner{height:100px}:host ::ng-deep .apply-button span{background:#e4e4e4;color:#5cb85c}:host ::ng-deep .cancel-button span{color:#d83431}:host .cloner-content{margin:30px}.buttons{float:right}.invalid-screen-name{background:#db7093;border:0}"]}]}],n.ctorParameters=function(){return[{type:ne},{type:Se}]},n.propDecorators={setOptions:[{type:t.Input}]},n}(He);var Xe=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[de,_e,Ze,p.EffectsModule.forFeature([])],declarations:[ue,Je,Ue,Ve,Qe],exports:[Qe],providers:[se],entryComponents:[Je,Ue,Ve]}]}],e}(),Ke=function(){function e(){}return e.prototype.ngOnInit=function(){this.items=[{label:"Store Management",routerLink:["/store"],icon:"pi pi-fw pi-minus"},{label:"Template Management",items:[{label:"Create Template",routerLink:["/createTemplate"],icon:"fas fa-pencil-alt"},{label:"Search Template",routerLink:["/searchTemplate"],icon:"fas fa-search"},{label:"Import Template",routerLink:["/importTemplate"],icon:"fas fa-file-import"},{label:"Simulate Template",routerLink:["/simulateTemplate"],icon:"fab fa-wpforms"}]}],this.items=[{label:"Store Management",icon:"pi pi-fw pi-minus",routerLink:["/store"]},{label:"Template Management",items:[{label:"Create Template",icon:"pi pi-pencil",routerLink:["/createTemplate"]},{label:"Search Template",icon:"pi pi-search",routerLink:["/searchTemplate"]},{label:"Import Template",icon:"pi pi-sign-in",routerLink:["/importTemplate"]},{label:"Simulate Template",icon:"fab fa-wpforms",routerLink:["/simulateTemplate"]}]}]},e.decorators=[{type:t.Component,args:[{selector:"sc-widgets-store",template:'\x3c!--<ng-container\n  *ngIf="widgetsLibrairies$ | async as widgetsLibrairies; else loading"\n>\n  <sc-store-selector\n    *ngIf="widgetsLibrairies && widgetsLibrairies.length > 1"\n    [stores]="widgetsLibrairies"\n    (selectStore)="selectStore($event)"\n  ></sc-store-selector>\n  <ng-container *ngIf="view$ | async as view">\n    <sc-store-displayer\n      [store]="selectedLibrary$ | async"\n      [screen]="screen$ | async"\n      [mask]="view !== \'screen\' && view !== \'page\'"\n    >\n    </sc-store-displayer>\n  </ng-container>\n</ng-container>\n<ng-template #loading>\n  <div>loading...</div>\n</ng-template>--\x3e\n<div class="available-screens" >\n  <p-panelMenu [transitionOptions]="\'0ms\'" [model]="items"   [style]="{\'width\':\'300px\'}" [multiple]="false" ></p-panelMenu>\n</div>\n',styles:[":host ::ng-deep .components-panel .ui-panel .ui-panel-content{border:0!important}::ng-deep .ui-panelmenu .ui-widget{background-color:#c6c6c6!important;font-family:lato}::ng-deep .ui-panelmenu .ui-panelmenu-header .ui-menuitem-text{color:#000;font-family:lato}::ng-deep .ui-menu-list{font-family:lato}.ui-panelmenu .ui-panelmenu-header.ui-state-active a,::ng-deep .ui-panelmenu .ui-panelmenu-header.ui-state-active{background-color:#d83431!important}"]}]}],e.ctorParameters=function(){return[]},e}();var Ye=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"sc-widget",template:'<div class="component" pTooltip="{{component?.name}}" tooltipPosition="bottom" showDelay="1000" hideDelay="500">\n  <div class="component-image">\n    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n      <path [attr.d]="component.icon"/>\n    </svg>\n  </div>\n  <div class="name">\n    <span>{{component.name}}</span>\n  </div>\n</div>\n',styles:[".component{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;cursor:pointer}.component-image{color:#626774;width:22px;height:22px}.component-image svg{fill:#474554}.name{font-size:12px;margin-top:5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={component:[{type:t.Input}]},e}();var et=function(){function e(){this.device=ae,this.landscapeMode=!1,this.desktopWidth="100%",this.iframeLoaded$=new a.Subject,this.unsubscribe=new a.Subject}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){},e.decorators=[{type:t.Component,args:[{selector:"sc-preview",template:'\x3c!--<div class="preview-screen">\n  <div class="device" [ngClass]="device" [class.landscape]="landscapeMode">\n    <div class="app-frame">\n      <sc-previewer-loading></sc-previewer-loading>\n      <sc-status-bar *ngIf="device != \'desktop\'"></sc-status-bar>\n      <ng-container *ngIf="previewerState$ | async as previewerState">\n        <iframe *ngIf="previewerState.initialized" class="viewer" #iframe cachedSrc="{{previewerState.routePath}}"\n          (load)="previewerFrameLoaded($event)" [style.min-width]="getDeskTopWitdth()"></iframe>\n        <div *ngIf="!previewerState.initialized && !previewerState.loading" class="viewer">\n          <p class="viewer-err-msg">\n            <i class="fa fa-exclamation-triangle"> </i>Previewer is not\n            installed or can not be loaded\n          </p>\n        </div>\n      </ng-container>\n    </div>\n  </div>\n</div>--\x3e\n<router-outlet></router-outlet>\n',styles:[".app-frame,.device.desktop,.no-preview,.preview-screen,.preview-screen .viewer,iframe{width:100%;height:100%;position:relative}.preview-screen .device.phone .viewer,.preview-screen .device.tablet .viewer{height:calc(100% - 20px)}.no-preview{background-color:#343a4063;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}.devices .icon i{font-size:110px}.devices{display:-webkit-box;display:flex}.device-name{padding:5px 41px}.preview-screen .viewer{border:none}.device.phone .app-frame{height:600px;width:360px;-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1);-webkit-transition:.25s ease-out;transition:.25s ease-out;-webkit-transform-origin:center top 0;transform-origin:center top 0;margin-top:75px;margin-left:auto;margin-right:auto}.device.phone.landscape .app-frame{width:620px;height:355px;margin-top:16px}.device.tablet .app-frame{height:995px;width:776px;-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1);-webkit-transition:.25s ease-out;transition:.25s ease-out;-webkit-transform-origin:center top 0;transform-origin:center top 0;margin-top:81px;margin-left:auto;margin-right:auto}.device.tablet.landscape .app-frame{height:777px;width:1014px;margin-top:45px}.device.phone{height:770px;width:100%;overflow:hidden;-webkit-transition:.25s ease-out;transition:.25s ease-out;margin-top:30px;margin-bottom:30px;margin-left:0;background-repeat:no-repeat;background-position:50% 0;background-size:387px 765px}.device.phone.landscape{background-size:765px 387px;height:416px;min-width:863px;width:100%}.preview-screen .device.phone .viewer{border:1px solid #050405;border-radius:0 0 2px 2px;border-top:none}.device.tablet{height:1180px;width:100%;min-width:880px;overflow:hidden;-webkit-transition:ease-out;transition:ease-out;margin-top:30px;margin-bottom:30px;margin-left:0;background-repeat:no-repeat;background-position:50% 0;background-size:864px 1174px}.device.tablet.landscape{height:870px;width:1200px;background-size:1174px 864px}.preview-screen .device.tablet .viewer{border:1px solid #000;border-radius:0 0 2px 2px;border-top:none}.viewer .viewer-err-msg{text-align:center}.viewer-err-msg{color:#fb8c00;padding:10px;font-size:18px}.viewer-err-msg i{margin-right:10px}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={device:[{type:t.Input}],landscapeMode:[{type:t.Input}],iframe:[{type:t.ViewChild,args:["iframe",{static:!1}]}]},e}();var tt=function(){function e(){this.title="Create Store Component"}return e.prototype.ngOnInit=function(){},e.decorators=[{type:t.Component,args:[{selector:"sc-create-template",template:'<div style="text-align:center">\n  <h1>\n    Welcome to {{ title }}!\n  </h1>\n  <img width="300" alt="Angular Logo" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==">\n</div>\n',styles:[""]}]}],e.ctorParameters=function(){return[]},e}();var nt=function(){function e(){this.title="Design Space Component"}return e.prototype.ngOnInit=function(){},e.decorators=[{type:t.Component,args:[{selector:"sc-design-space",template:'<div style="text-align:center">\n  <h1>\n    Welcome to {{ title }}!\n  </h1>\n  <img width="300" alt="Angular Logo" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==">\n</div>\n',styles:[""]}]}],e.ctorParameters=function(){return[]},e}();var ot=function(){function e(){this.title="Import Template Component"}return e.prototype.ngOnInit=function(){},e.decorators=[{type:t.Component,args:[{selector:"sc-import-template",template:'<div style="text-align:center">\n  <h1>\n    Welcome to {{ title }}!\n  </h1>\n  <img width="300" alt="Angular Logo" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==">\n</div>\n',styles:[""]}]}],e.ctorParameters=function(){return[]},e}();var rt=function(){function e(){this.title="Search Template Component"}return e.prototype.ngOnInit=function(){},e.decorators=[{type:t.Component,args:[{selector:"sc-search-template",template:'<div style="text-align:center">\n  <h1>\n    Welcome to {{ title }}!\n  </h1>\n  <img width="300" alt="Angular Logo" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==">\n</div>\n\n',styles:[""]}]}],e.ctorParameters=function(){return[]},e}();var it=function(){function e(){this.title="Simulate Template Component"}return e.prototype.ngOnInit=function(){},e.decorators=[{type:t.Component,args:[{selector:"sc-simulate-template",template:'<div style="text-align:center">\n  <h1>\n    Welcome to {{ title }}!\n  </h1>\n  <img width="300" alt="Angular Logo" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==">\n</div>\n',styles:[""]}]}],e.ctorParameters=function(){return[]},e}();var at=function(){function e(){this.title="Store Management Component"}return e.prototype.ngOnInit=function(){},e.decorators=[{type:t.Component,args:[{selector:"sc-store-management",template:'<div style="text-align:center">\n  <h1>\n    Welcome to {{ title }}!\n  </h1>\n  <img width="300" alt="Angular Logo" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==">\n</div>\n',styles:[""]}]}],e.ctorParameters=function(){return[]},e}();var st=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[g.CommonModule,Ze,de],declarations:[et,tt,nt,ot,rt,it,at],exports:[et]}]}],e}(),ct=function(){function e(){this.selectStore=new t.EventEmitter}return e.prototype.select=function(e){this.selectStore.emit(e.value)},e.decorators=[{type:t.Component,args:[{selector:"sc-store-selector",template:'<p-dropdown\n  [options]="stores"\n  optionLabel="name"\n  (onChange)="select($event)"\n></p-dropdown>\n',styles:[".store-tabs{display:-webkit-box;display:flex;overflow-y:auto;padding:0;font-size:xx-small}::ng-deep .tab-header button{width:180px;max-width:180px;height:25px;max-height:25px}.store-tabs::-webkit-scrollbar{height:0}.store-tabs::-webkit-scrollbar-thumb{display:none}:host ::ng-deep .ui-dropdown{width:100%!important}"]}]}],e.propDecorators={stores:[{type:t.Input}],selectStore:[{type:t.Output}]},e}();var pt=function(){function e(e,t){this.treeDragDropService=e,this.uuidService=t,this.categories=[],this.components=[]}return e.prototype.ngOnChanges=function(e){(e.store||e.screen)&&(this.categories=this.filterComponents(this.store&&this.store.categories),this.components=s.flatten(this.categories.map((function(e){return e.components}))))},e.prototype.startDragComponent=function(e){var t,n=this;e.defaultContent?t=this.buildNodeTree([e.defaultContent],this.components)[0]:(t=this.initDraggableComponentNode(e),t=this.addComponentMetaData(e,t)),this.treeDragDropService.startDrag({tree:null,node:t,subNodes:[t],index:1,scope:e.scope?e.scope.filter((function(e){return void 0!==e.split(".").find((function(e){return e===n.screen}))})):""})},e.prototype.initDraggableComponentNode=function(e){var t=e.container&&e.childs&&e.childs.length>0,n={type:e.name,properties:{}};if(e.container){var o=Date.now().toString();n.components=[],n.componentsBreakpoints={xs:12,sm:12,md:6,lg:4},n.name=e.name+"-"+o.substr(8)}var r={label:e.name,leaf:!e.container,children:e.container?[]:void 0,data:n,rules:e.rules,droppable:!!e.container,type:"sectionItem",expanded:!!e.container,styleClass:t?"child-item-container":null,customicon:e.icon};return e.defaultChilds&&this.addDefaultChilds(r,e),r},e.prototype.buildNodeTree=function(e,t){var n=this;return e.map((function(e){var o=t.find((function(t){return t.name===e.type})),r=n.initDraggableComponentNode(o);return(r=n.addComponentMetaData(o,r)).data=e,r.children=e.components&&e.components.length>0?n.buildNodeTree(e.components,t):[],r}))},e.prototype.addDefaultChilds=function(e,t){var n=t.defaultChilds.child,o=+t.defaultChilds.number,r=t.defaultChilds.breakpointsRequired,i=this.components.find((function(e){return e.name===n}));if(i.breakpointsRequired=r,e.noComponentsBreakpoints=t.noComponentsBreakpoints,e.defaultChilds=t.defaultChilds,e.childComponentsBreakpoints=r,i)for(var a=0;a<o;a++){var s=this.initDraggableComponentNode(i);s=this.addComponentMetaData(i,s),e.children.push(s)}},e.prototype.addComponentMetaData=function(e,t){return k({},t,{childs:e.childs,parents:e.parents})},e.prototype.filterComponents=function(e){var t=this;return e?e.map((function(e){return k({},e,{components:s.orderBy(e.components.filter((function(e){return!t.screen||!e.rules||e.rules.filter((function(e){return t.isScreenAllowed(e,t.screen)})).length>0})),"displayOrder")})})).filter((function(e){return e.components.length>0})):[]},e.prototype.isScreenAllowed=function(e,t){return e.includedScreens&&e.includedScreens.includes(t)&&!(e.excludedScreens&&e.excludedScreens.includes(t))||e.includedScreens&&0===e.includedScreens.length&&e.excludedScreens&&0===e.excludedScreens.length},e.decorators=[{type:t.Component,args:[{selector:"sc-store-displayer",template:'<div class="components-list">\n  <div *ngIf="mask" class="components-mask"></div>\n  <p-accordion\n    expandIcon="fa fa-fw fa-angle-right"\n    collapseIcon="fa fa-fw fa-angle-down"\n    *ngIf="categories && categories.length > 0; else displayError"\n  >\n    <div *ngFor="let category of categories; let i = index">\n      <p-accordionTab\n        [selected]="i === 0"\n        header="{{ category.name | titlecase }}"\n      >\n        <ul class="components">\n          <li\n            class="ui-component"\n            *ngFor="let component of category.components"\n            pDraggable\n            (onDragStart)="startDragComponent(component)"\n          >\n            <sc-widget [component]="component"></sc-widget>\n          </li>\n        </ul>\n      </p-accordionTab>\n    </div>\n  </p-accordion>\n</div>\n\n<ng-template #displayError>\n  <div *ngIf="store.error; else displayMessage" class="message">\n    {{ store.error }}\n  </div>\n</ng-template>\n<ng-template #displayMessage>\n  <div class="message">No component found to display</div>\n</ng-template>\n',styles:[".components-list{margin-top:-1px;height:calc(100% - 24px);position:relative}.components{display:-webkit-box;display:flex;padding-left:0;flex-wrap:wrap;margin:0}.ui-component.selected,.ui-component:hover{background-color:rgba(0,0,0,.1);-webkit-transition:450ms cubic-bezier(.23,1,.32,1);transition:450ms cubic-bezier(.23,1,.32,1)}:host ::ng-deep .ui-component:hover .component-image{-webkit-transform:scale(1.1);transform:scale(1.1)}:host ::ng-deep .ui-component:hover .component-image svg{fill:#00a2ff}:host ::ng-deep .ui-component:hover .name{color:#00a2ff}.components li{list-style:none;max-width:90px;width:86px;height:60px;margin-right:2px;margin-left:0;position:relative;padding:10px}.components-mask{background:rgba(102,102,102,.2);position:absolute;width:314px;height:100%;z-index:9}.mask-message{margin:5px 39px;text-align:center;color:#212121;font-size:18px;background:rgba(102,102,102,.5);border-radius:3px}:host ::ng-deep .ui-accordion .ui-accordion-header a:active,:host ::ng-deep .ui-accordion .ui-accordion-header a:focus,:host ::ng-deep .ui-accordion .ui-accordion-header:active,:host ::ng-deep .ui-accordion .ui-accordion-header:focus,:host ::ng-deep .ui-accordion .ui-accordion-header:hover{border:0;border-top:0;outline:0!important}:host ::ng-deep .ui-accordion .ui-accordion-header{background-color:#f9f9f9!important;border-radius:0;margin:0;border:0;border-top:0}:host ::ng-deep .ui-accordion .ui-accordion-header a{text-decoration:none;padding:.5em!important;background-color:#f9f9f9!important;border-radius:0;margin:0;border:0;border-top:0}:host ::ng-deep .ui-accordion .ui-accordion-header a .ui-accordion-toggle-icon{color:#1b1d1f}:host ::ng-deep .ui-accordion .ui-accordion-header:not(.ui-state-disabled).ui-state-active a .ui-accordion-toggle-icon{color:#d83531!important}:host ::ng-deep .ui-accordion .ui-accordion-header a:focus,:host ::ng-deep .ui-accordion .ui-accordion-header.ui-state-active a:active,:host ::ng-deep .ui-accordion .ui-accordion-header.ui-state-active a:focus{border:none}:host ::ng-deep .ui-accordion .ui-accordion-header.ui-state-active a{color:#d83531!important;font-weight:700;background-color:inherit!important;border:0!important;outline:0!important}:host ::ng-deep a:active,:host ::ng-deep a:focus{border:0!important;outline:0!important}:host ::ng-deep .ui-accordion .ui-accordion-content{padding:1em;border-top:0;border:0}.message{text-align:center;align-content:center}"]}]}],e.ctorParameters=function(){return[{type:b.TreeDragDropService},{type:ie}]},e.propDecorators={store:[{type:t.Input}],mask:[{type:t.Input}],screen:[{type:t.Input}]},e}();var lt=function(){function e(){this.switcher=new a.BehaviorSubject("components")}return e.prototype.stat=function(){return this.switcher.asObservable()},e.prototype.switchToComponents=function(){this.switcher.next("components")},e.prototype.switchToScreens=function(){this.switcher.next("screens")},e.decorators=[{type:t.Injectable}],e}();var dt=function(){function e(e){this.switcher=e,this.collapse=new t.EventEmitter,this.unsubscribe$=new a.Subject}return e.prototype.ngOnInit=function(){var e=this;this.switcher.stat().pipe(o.takeUntil(this.unsubscribe$)).subscribe((function(t){return e.switcherState=t}))},e.prototype.moveToComponents=function(){this.switcher.switchToComponents()},e.prototype.moveToScreens=function(){this.switcher.switchToScreens()},e.prototype.collapseComponents=function(){this.collapse.emit()},e.decorators=[{type:t.Component,args:[{selector:"sc-widgets-to-screen-switcher",template:'<p-panel\n  class="components-panel"\n  expandIcon="fa fa-angle-down"\n  collapseIcon="fa fa-angle-up"\n  [toggleable]="!collapseProperties"\n  (onBeforeToggle)="collapseComponents()"\n>\n  <p-header>\n    <div class="header-switcher">\n      <p-button\n        label="Menu"\n        (onClick)="moveToComponents()"\n        [ngClass]="{ selected: switcherState === \'components\' }"\n      >\n      </p-button>\n      \x3c!-- <p-button label="Screens" (onClick)="moveToScreens()" [ngClass]="{selected: switcherState === \'screens\'}">\n      </p-button> --\x3e\n    </div>\n  </p-header>\n  <div>\n    <sc-widgets-store>\n    </sc-widgets-store>\n  </div>\n\n</p-panel>\n',styles:[""]}]}],e.ctorParameters=function(){return[{type:lt}]},e.propDecorators={collapseProperties:[{type:t.Input}],collapse:[{type:t.Output}]},e}();var ut=function(){function e(e,t){this.workspaceService=e,this.treeDragDropService=t}return e.prototype.ngOnInit=function(){this.screens$=this.workspaceService.getAllScreens().pipe(o.filter(Boolean),o.map((function(e){return e.map((function(e){return{label:e.title||e.name,value:e}}))})))},e.prototype.startDragScreen=function(e,t){var n=this.initDraggableScreenNode(e);t.dataTransfer.setData("dragNode",JSON.stringify(n)),this.treeDragDropService.startDrag({tree:null,node:n,subNodes:[n],scope:"menu"})},e.prototype.initDraggableScreenNode=function(e){},e.decorators=[{type:t.Component,args:[{selector:"sc-screens-store",template:'<div class="screens-store" *ngIf="(screens$ | async) as screensItems">\n  <p-listbox *ngIf="screensItems.length >0" [options]="screensItems" filter="true" [(ngModel)]="selectedScreen"\n    [listStyle]="{\'max-height\':\'100%\'}">\n    <ng-template let-screen pTemplate="item">\n      <div class="screen-item" pDraggable (onDragStart)="startDragScreen(screen.value,$event)">\n        <i class="fa fa-desktop"></i> <span>{{ screen.label }}</span>\n        <span class="feature-name">({{ screen.value.featureName }} - {{screen.value.name}})</span>\n      </div>\n    </ng-template>\n  </p-listbox>\n  <div class="no-element" *ngIf="(screensItems.length === 0)">\n    <span class="no-element-msg">\n      No screens configured\n    </span>\n  </div>\n</div>',styles:[".screens-store{height:100%}:host ::ng-deep .screens-store .ui-listbox.ui-widget{width:100%;height:100%;padding:0;border:none}:host ::ng-deep .screens-store .ui-listbox-header .ui-inputtext{height:25px;border:none;border-bottom:2px solid #8d9293;padding-left:0}:host ::ng-deep .screens-store .ui-listbox-header{padding:2px 8px 0;border:none;background:#fff}::ng-deep screens-store .no-element{margin-top:50%;width:100%}:host ::ng-deep .screens-store .no-element .no-element-msg{margin:-20px auto auto;padding:10px 61px;position:absolute;width:100%;top:50%}:host ::ng-deep .screens-store .ui-listbox-header .ui-listbox-filter-container .fa{left:auto;right:.25em}:host ::ng-deep .screens-store .ui-listbox .ui-listbox-item{margin-bottom:2px;height:auto;background-color:#f9f9f9;border-radius:0;padding:2px 5px}:host ::ng-deep .screens-store .ui-listbox .ui-listbox-item.ui-state-highlight,:host ::ng-deep .screens-store .ui-listbox .ui-listbox-item:not(.ui-state-highlight):hover{background-color:#eee;color:#00a2ff}:host ::ng-deep .feature-name{font-size:8pt}"]}]}],e.ctorParameters=function(){return[{type:r.WorkspaceClientApi},{type:b.TreeDragDropService}]},e}();var gt=[{path:"createTemplate",component:tt},{path:"searchTemplate",component:rt},{path:"simulateTemplate",component:it},{path:"designSpace",component:nt},{path:"importTemplate",component:ot},{path:"store",component:at},{path:"",component:et}],ht=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[de,Xe,Ze,v.PanelMenuModule,n.RouterModule.forRoot(gt)],declarations:[Ye,Ke,ct,pt,dt,ut],exports:[Xe,_e,Ke,dt,st],providers:[lt]}]}],e}(),ft=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[de,Ze,ht],declarations:[ce],exports:[ce]}]}],e}(),mt=[{name:"admin"},{name:"vermeg_user"},{name:"simple_user"},{name:"role1"},{name:"role2"},{name:"role3"},{name:"role4"},{name:"role5"},{name:"role6"},{name:"role7"},{name:"role8"},{name:"role9"},{name:"role10"},{name:"role11"},{name:"role12"},{name:"role13"},{name:"role14"},{name:"role15"},{name:"role16"},{name:"role17"},{name:"role18"},{name:"role19"},{name:"role20"},{name:"role21"},{name:"role22"},{name:"role23"}],bt=function(){function e(){}return e.prototype.getRoles=function(){return a.of(mt)},e}(),yt=function(e){function n(t){var n=e.call(this)||this;return n.http=t,n}return M(n,e),n.prototype.getCurrentProjectInfo=function(){var e=this;return this.shareProjectWithReplay?this.shareProjectWithReplay:(this.shareProjectWithReplay=new a.ReplaySubject,this.http.get("/api/workspace/project/info").pipe(o.tap((function(t){e.shareProjectWithReplay.next(t)}))))},n.prototype.getServices=function(){return this.http.get("/api/workspace/services")},n.prototype.getModels=function(){return this.http.get("/api/workspace/models")},n.prototype.getModel=function(e){if(null==e||""===e)throw new Error("Required parameter featureName was empty, null or undefined.");return this.http.get("/api/workspace/models/"+e).pipe(o.shareReplay())},n.prototype.getAllFeatures=function(){return this.http.get("/api/workspace/features/all")},n.prototype.getFeature=function(e){if(null==e||""===e)throw new Error("Required parameter featureName was empty, null or undefined.");return this.http.get("/api/workspace/features/"+e)},n.prototype.getAllScreens=function(){return this.http.get("/api/workspace/screens/all")},n.prototype.getPage=function(e){},n.prototype.getAllPages=function(){return this.http.get("/api/workspace/pages/all")},n.decorators=[{type:t.Injectable}],n.ctorParameters=function(){return[{type:l.HttpClient}]},n}(r.WorkspaceClientApi);var vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.pushSuccess=function(e){console.log("Success : "+e.detail)},t.prototype.pushError=function(e){console.log("Error : "+e.detail)},t.prototype.pushInfo=function(e){console.log("Info : "+e.detail)},t.prototype.pushWarning=function(e){console.log("Warning : "+e.detail)},t}(d.IdeMessageService),wt=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return M(n,e),n.prototype.doSave=function(){this.save$.next()},n.prototype.save=function(){return this.save$.asObservable()},n.decorators=[{type:t.Injectable}],n}(r.IdeActionsService),xt=[{path:"",component:ce}],Mt={"screen-editor":"/api/screen-editor/1.5.0-beta.67"},kt=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[n.RouterModule.forChild(xt),i.StoreModule.forRoot({}),p.EffectsModule.forRoot([])],exports:[ft],providers:[{provide:"API_PATHS",useValue:Mt},{provide:w.WorkspaceClientApi,useClass:yt},{provide:r.SecurityClientApi,useClass:bt},{provide:d.IdeMessageService,useClass:vt},{provide:r.IdeActionsService,useClass:wt}]}]}],e}();e.ScreenEditorComponent=ce,e.ScreenEditorModule=kt,e.a=oe,e.b=re,e.ba=Ue,e.bb=Se,e.bc=Ve,e.bd=ne,e.be=Qe,e.bf=tt,e.bg=rt,e.bh=it,e.bi=nt,e.bj=ot,e.bk=at,e.bl=et,e.bm=Ye,e.bn=Ke,e.bo=ct,e.bp=pt,e.bq=ie,e.br=dt,e.bs=lt,e.bt=ut,e.bu=st,e.bv=yt,e.bw=bt,e.bx=vt,e.by=wt,e.c=L,e.d=se,e.e=N,e.f=ft,e.g=de,e.h=pe,e.i=le,e.j=Ze,e.k=ht,e.l=Xe,e.m=_e,e.n=ye,e.o=fe,e.p=me,e.q=be,e.r=ge,e.s=he,e.t=re,e.u=qe,e.v=He,e.w=ue,e.x=Je,e.y=He,e.z=$e,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=workspace-lib-ouss.umd.min.js.map